<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style>
	.container {
		width: 80%;
		margin: 0 auto;
	}
	textarea {
		display: block;
		width: 100%;
		height: 200px;
		font-size: 14px;
		padding: 10px;
	}
	</style>
	<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
	<script>
	var characterSets = {};
	var registerCharacterSet = function( args ) {
		characterSets[args.id] = args.set;
	};
	var getCharacterSet = function( id ) {
		return characterSets[id];
	};
	var getFirstCharacterSet = function() {
		for ( prop in characterSets ) {
			return characterSets[prop];
		}
	};

	registerCharacterSet( {
		id: 'latin-characters-with-carons',
		set: {
			A: '«ç', C: 'ƒå', D: 'ƒé', E: 'ƒö', F: 'F', G: '«¶', H: '»û', I: '«è', K: '«®',
			L: 'ƒΩ', N: '≈á', O: '«ë', P: 'P', Q: '≈ò', R: '≈ò', S: ['≈†', '·π¶'], T: '≈§',
			U: ['«ì', '«ô'], Z: '≈Ω', a: '«é', c: 'ƒç', d: 'ƒè', e: 'ƒõ', f: 'f', g: '«ß',
			h: '»ü', i: '«ê', j: '«∞', k: '«©', l: 'ƒæ', n: '≈à', o: '«í', r: ['≈ô', '≈ô'],
			s: ['≈°', '·πß'], t: '≈•', u: ['«î', '«ö'], z: '≈æ'
		}
	} );

	registerCharacterSet( {
		id: 'latin-characters-with-rings',
		set: {
			A: [ '\u00C5', '\u01FA', '\u00C5\u0302', '\u0100\u030A', '\u0104\u030A', '\u00C5\u0331', '\u1E00' ],
			a: [ '\u00E5', '\u01FB', '\u00E5\u0302', '\u0101\u030A', '\u0105\u030A', '\u00E5\u0331', '\u1E01' ],
			E: ['\u0045\u030A'], e: '\u0065\u030A', U: '\u016E', u: '\u016F',
			R: [ '\u0052\u0325','\u0052\u0325\u0304' ], r: ['\u0072\u0325', '\u0072\u0325\u0304'],
			W: '\u0057\u030A', w: '\u1E98', Y: '\u0059\u030A', y: '\u1E99',
			Q: '\u0051\u030A', q: '\u0071\u030A', X: '\u0058\u030A', x: '\u0078\u030A'
		}
	} );

	registerCharacterSet( {
		id: 'latin-characters-upside-down-and-backwards',
		set: {
			A: '‚àÄ', B: 'êêí', C: '∆Ü', D: 'p', E: '∆é', F: '‚Ñ≤', G: '◊§',
			H: 'H', I: 'I', J: '≈ø', K: ' û', L: 'À•', M: 'W', N: 'N', O: 'O', P: '‘Ä', Q: 'Q',
			R: '…π', S: 'S', T: '‚î¥', U: '‚à©', V: 'Œõ', W: 'M', X: 'X', Y: '‚ÖÑ', Z: 'Z', a: '…ê',
			b: 'q', c: '…î', d: 'p', e: '«ù', f: '…ü', g: '∆É', h: '…•', i: '·¥â', j: '…æ', k: ' û',
			l: 'l', m: '…Ø', n: 'u', o: 'o', p: 'd', q: 'b', r: '…π', s: 's', t: ' á', u: 'n',
			v: ' å', w: ' ç', x: 'x', y: ' é', z: 'z'
		}
	} );


	$(function() {
		window.characterBucket = new function() {
			this.initialize = function() {
				this.characters = { A: [], B: [], C: [], D: [], E: [], F: [], G: [],
				H: [], I: [], J: [], K: [], L: [], M: [], N: [], O: [], P: [], Q: [],
				R: [], S: [], T: [], U: [], V: [], W: [], X: [], Y: [], Z: [], a: [],
				b: [], c: [], d: [], e: [], f: [], g: [], h: [], i: [], j: [], k: [],
				l: [], m: [], n: [], o: [], p: [], q: [], r: [], s: [], t: [], u: [],
				v: [], w: [], x: [], y: [], z: [] };
			};
			this.addCharaters = function(set) {
				for ( prop in set ) {
					if ( Array.isArray( set[prop] ) && this.characters.hasOwnProperty( prop ) ) {
						this.characters[prop] = this.characters[prop].concat( set[prop] );
					} else if ( typeof set[prop] == 'string' ) {
						this.characters[prop].push( set[prop] );
					}
				}
			};

			this.fillInCharaters = function() {
				// Fill in any bcket gaps with the defalt latin character.
				for ( prop in this.characters ) {
					if ( this.characters[prop].length == 0 ) {
						this.characters[prop].push( prop );
					}
				}
			};

			this.getRandomReplacementCharacter = function(character) {
				if ( this.characters[character] ) {
					return this.characters[character][ Math.floor(Math.random() * this.characters[character].length) ];
				} else {
					return character;
				}
			};
		};
		var translate = function() {
			var string = $('.input').val();
			var destinationString = '';
			for ( var i = 0; i < string.length; i++ ) {
				destinationString += characterBucket.getRandomReplacementCharacter(string[i]);
			}
			$('.output').val(destinationString);
		};
		var updateBucket = function() {
			characterBucket.initialize();
			$('.translate-group').each( function( index, element ) {
				$el = $(element);
				if ( ! $el.is(':checked') ) {
					return;
				}
				var set = getCharacterSet( $el.data( 'character-group-name' ) );
				characterBucket.addCharaters( set );
			});
			characterBucket.fillInCharaters();
		};
		$('.translate-group').on('change', function() {
			updateBucket();
			translate();
		} );
		$('.input').on('keyup', translate );
		$('.translate-group').eq(1).trigger('click');
	});
	</script>
</head>
<body>
	<h1>Cool Text Converter</h1>
	<div class="container">
		<textarea class="input">I fell into a Ring of Fire</textarea>
		<h3>Translate with: </h3>
		<label>
			<input
			       type="radio"
			       name="translate-group"
			       data-character-group-name="latin-characters-with-carons"
			       class="translate-group"
			       value="1">
			Latin characters with carons
		</label>
		<label>
			<input
			       type="radio"
			       name="translate-group"
			       data-character-group-name="latin-characters-with-rings"
			       class="translate-group"
			       value="1">
			Latin characters with rings
		</label>
		<label>
			<input
			       type="radio"
			       name="translate-group"
			       data-character-group-name="latin-characters-upside-down-and-backwards"
			       class="translate-group"
			       value="1">
			Latin characters upside down and backwards
		</label>

		<textarea class="output" readonly></textarea>
	</div>
</body>
</html>